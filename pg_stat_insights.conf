# Configuration for pg_stat_insights regression tests

# Load the extension on startup
shared_preload_libraries = 'pg_stat_insights'

# Enable query tracking
pg_stat_insights.track = 'all'
pg_stat_insights.max = 10000

# Enable detailed timing if available
track_io_timing = on
track_activities = on
track_counts = on

# Enable JIT for testing (if PostgreSQL 11+)
jit = on

# Allow parallel queries in tests
max_parallel_workers_per_gather = 2
max_parallel_workers = 4

# Ensure statistics are collected
log_statement_stats = off
log_parser_stats = off
log_planner_stats = off
log_executor_stats = off
